<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>치카게무라 탐방</title>
<style>
    body {
        background: black;
        color: #e0e0e0;
        font-family: "Malgun Gothic", monospace;
        line-height: 1.8;
        padding: 20px;
    }
    #text {
        white-space: pre-line;
        font-size: 16px;
    }
    img {
        max-width: 100%;
        margin: 20px 0;
        display: none;
        opacity: 0;
        transition: opacity 0.5s;
    }
</style>
</head>
<body>

<div id="text"></div>
<img id="sceneImg">

<audio id="classic" src="ClassicHorror.mp3"></audio>
<audio id="main" src="main.mp3"></audio>
<audio id="kid" src="kid.mp3" loop></audio>

<script>
const textBox = document.getElementById("text");
const img = document.getElementById("sceneImg");

const classic = document.getElementById("classic");
const main = document.getElementById("main");
const kid = document.getElementById("kid");

const typingSpeed = 45; // 체감 0.4~0.5

function typeText(text, callback) {
    let i = 0;
    const interval = setInterval(() => {
        textBox.innerHTML += text[i];
        i++;
        if (i >= text.length) {
            clearInterval(interval);
            if (callback) callback();
        }
    }, typingSpeed);
}

function showImage(src) {
    img.src = src;
    img.style.display = "block";
    setTimeout(() => img.style.opacity = 1, 50);
}

function hideImage() {
    img.style.opacity = 0;
    setTimeout(() => img.style.display = "none", 500);
}

// 시작
classic.play();

typeText(
`판테리:
오늘 판테리가 여러분께 보여드릴 폐가는,
제 채널에도 한 번 올라왔던
치카게무라 집단 살인 사건이 발생한 장소입니다.

오늘은 마을의 몇몇 주택과,
마지막으로 신사까지 탐방해보겠습니다.

2026년 7월 4일 07시 42분.
탐방을 시작하겠습니다.
`, () => {

    showImage("images/1.png");

    setTimeout(() => {
        typeText(`여기가 치카게무라 마을 입구입니다.\n`, () => {

            showImage("images/2.png");

            setTimeout(() => {
                typeText(`여기가 첫 번째 집입니다.\n`, () => {

                    showImage("images/3.png");

                    setTimeout(() => {
                        classic.pause();
                        main.play();

                        typeText(
`사건 기록상, 가장 먼저 이상 현상이 보고된 장소죠.

실례하겠습니다.

30년이 넘게 지났지만,
집기와 옷들이 그대로 남아 있습니다.

딱히 특이점이나 이상현상은…
아직은 없는 것 같네요.
`, () => {

                            main.pause();
                            kid.volume = 0.1;
                            kid.play();

                            let vol = 0.1;
                            const volUp = setInterval(() => {
                                vol += 0.05;
                                kid.volume = Math.min(vol, 0.6);
                                if (vol >= 0.6) clearInterval(volUp);
                            }, 400);

                            typeText(
`\n다음 집으로 이동하겠습니다.
…이게 무슨 소리죠?
아이들이 노래를 부르는 소리가 들립니다.

멈춰서 주변을 둘러봤습니다.

분명히 닫지 않았던 문이,
등 뒤에서 갑자기 닫혔습니다.

설명할 수는 없었지만,
이곳에 더 있으면 안 될 것 같은 불길한 느낌이 들었습니다.

나는 옆집으로 도망갔습니다.
`, () => {
                                kid.pause();
                                hideImage();
                                typeText(`\n\n다른 장소들은 모두 생략하겠습니다.`);
                            });
                        });
                    }, 600);
                });
            }, 600);
        });
    }, 600);
});
</script>

</body>
</html>
